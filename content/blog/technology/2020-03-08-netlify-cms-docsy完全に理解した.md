---
layout: blog
date: 2020-03-08T12:21:13.859Z
title: Netlify CMS + Docsy完全に理解した
---
そろそろ0x20歳を迎えることや、最近ライフイベントが重なったこともあり、久しぶりにBlogを再開することにしました。前回Blogを構築したのは20歳になろうかという頃でしたので、0x20歳に差し掛かろうかという今新たにBlogを作るのも良いタイミングかなと考えてのことです。

前回Blogを構築した際は、WordPressを用いていましたが、最終的にオペレーションミスでデータを失ってしまい、そのまま閉鎖となってしまったことを踏まえ、今回は静的サイトジェネレータであるHugoをベースに、静的サイトジェネレータ向けCMSである"Netlify CMS"と、Hugoの技術サイト向けテンプレートである"Docsy"を組み合わせてBlogを構築することにしました。

## Hugo

Hugoは、その名前から推測がつくように、Go言語で開発された静的サイトジェネレータで、Markdownなどで記述されたコンテンツをベースに、テンプレートを適用して静的なサイトを生成してくれるツールです。コンテンツ執筆者はMarkdownなどで簡単にコンテンツを記述出来つつも、テンプレートを適用することでサイトを適切にスタイリング出来ます。従来のWordPressのような動的なCMSでは、DBや実行環境の維持管理をする必要がありましたが、Hugoのような静的サイトジェネレータを利用する場合は、最終的な成果物は静的なファイルとして出力されるので、Netlifyのような静的サイトのホスティングサービスにデプロイすることが出来、維持管理コストを削減することが出来ることが魅力です。

## Docsy

Docsyは、Google発のHugoのテーマで、オープンソースソフトウェアの公開ページなど、技術文書公開に適した機能を重点的に具備していることが特徴です。

## Netlify

NetlifyはGitHub等レポジトリサービスと連携し、レポジトリの更新を契機にコンテンツを取得し、ビルドして成果物を公開する継続的デリバリ機能と、無償プランから独自ドメイン持込でHTTPSが利用できることが特徴の静的サイトのホスティングサービスです。

## Netlify CMS

Netlify CMSは、前述のNetlifyが提供している、静的サイトジェネレータと組み合わせて使うことを前提とした、新しいコンセプトのCMSです。Netlify CMSとして提供される、管理画面を提供する2つのファイル（HTMLファイルとJavaScriptファイル）を組み込み先のサイトに対して追加した上でそのパスに対してアクセスすると、Netlify CMSは静的サイトのコンテンツが保管されているGitHub等のレポジトリに対して（Netlifyを経由して？）APIアクセスを行い、コンテンツの編集機能を提供します。

Netlify CMS上でコンテンツの入力を完了し、「保存」ボタンを押下すると、コンテンツの内容はGitHub等のレポジトリに対してコミットされ、そのコミットをトリガーにNetlifyはHugo等静的コンテンツジェネレータを実行し、ビルドして得られたコンテンツを表示する、という連携が動作します。



## 導入方法

本Blogを構築するにあたり必要な設定は全て[サイトのGitHubレポジトリ](https://github.com/sharplab/sharplab.net)に収まっているので、基本的にはそちらを参照して頂ければ追いかけることが出来るかと思いますが、自分が躓いたポイントを中心に導入方法を記載したいと思います。

### Hugoのインストール

### ディレクトリ構造の生成

### Docsyテーマの導入



### サイトのビルド

### 
﻿
DocsyテーマでBlog機能利用時の注意点

### Netlify CMSの導入

### Netlify CMSの設定

#### Netlify CMSをDocsyと組み合わせる場合のポイント

## まとめ

以上のように、Hugo、Docsy、Netlify、Netlify CMSを組み合わせることで、アプリケーション実行環境やDBの管理に煩わされることなく、リッチなインタフェースでBlog等コンテンツを管理することが出来る環境を構築することが出来ました。